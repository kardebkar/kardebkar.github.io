html = r"""<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Debashish Kar | PhD (CSE) Portfolio</title>
  <meta name="description" content="Debashish Kar — PhD-focused CSE research portfolio: sensing ML (hyperspectral, wearables), AI systems, publications, and projects." />
  <meta name="theme-color" content="#0b1020" />

  <!--
    Theme base: Bootstrap (MIT) + layout patterns inspired by Start Bootstrap "Resume" (MIT).
    You can safely use and modify this file; keep MIT license notices if you incorporate upstream code.
  -->

  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- Bootstrap 5 (MIT) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <!-- Bootstrap Icons (MIT) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">

  <style>
    :root{
      --bg: #0b1020;
      --panel: rgba(255,255,255,.055);
      --panel2: rgba(255,255,255,.035);
      --line: rgba(180,200,255,.16);
      --text: #e8eefc;
      --muted: rgba(232,238,252,.72);
      --muted2: rgba(232,238,252,.60);
      --accent: #8ab4ff;
      --accent2: #7ee0c3;
      --shadow: 0 18px 56px rgba(0,0,0,.38);
      --r: 18px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }
    [data-theme="light"]{
      --bg:#f7f8fc;
      --panel: rgba(18,24,38,.06);
      --panel2: rgba(18,24,38,.045);
      --line: rgba(18,24,38,.14);
      --text:#121826;
      --muted: rgba(18,24,38,.76);
      --muted2: rgba(18,24,38,.62);
      --accent:#1d4ed8;
      --accent2:#0f766e;
      --shadow: 0 12px 36px rgba(20,30,60,.14);
    }

    html{ scroll-behavior: smooth; }
    @media (prefers-reduced-motion: reduce){ html{scroll-behavior:auto;} *{transition:none!important; animation:none!important;} }

    body{
      font-family: var(--sans);
      background:
        radial-gradient(900px 620px at 16% -12%, rgba(106,133,255,.22) 0%, rgba(0,0,0,0) 60%),
        radial-gradient(800px 520px at 92% 0%, rgba(126,224,195,.18) 0%, rgba(0,0,0,0) 55%),
        var(--bg);
      color: var(--text);
    }

    a{ color: var(--accent); text-decoration: none; }
    a:hover{ text-decoration: underline; }

    .skip{
      position:absolute; left:-999px; top:10px;
      background: var(--bg);
      border: 1px solid var(--line);
      padding:10px 12px;
      border-radius: 12px;
      box-shadow: var(--shadow);
      z-index: 9999;
      color: var(--text);
    }
    .skip:focus{ left: 14px; }

    .app{
      max-width: 1240px;
      margin: 0 auto;
      padding: 14px 14px 64px;
    }

    .glass{
      background: linear-gradient(180deg, var(--panel), var(--panel2));
      border: 1px solid var(--line);
      border-radius: var(--r);
      box-shadow: var(--shadow);
    }

    .topbar{
      position: sticky;
      top: 10px;
      z-index: 60;
      backdrop-filter: blur(10px);
    }
    .topbar-inner{
      display:flex;
      gap: 10px;
      align-items:center;
      justify-content: space-between;
      padding: 10px 12px;
    }
    .brand{
      display:flex; gap:10px; align-items:baseline; flex-wrap: wrap;
      min-width: 260px;
    }
    .brand b{ font-size: 14px; letter-spacing:.25px; }
    .brand span{ font-size: 13px; color: var(--muted); }

    .ctrls{
      display:flex; gap:10px; align-items:center; justify-content:flex-end;
      width: 100%;
      max-width: 720px;
    }
    .search{
      flex: 1 1 auto;
      min-width: 220px;
      border: 1px solid var(--line);
      background: var(--panel2);
      color: var(--text);
      border-radius: 12px;
      padding: 10px 12px;
    }
    .search::placeholder{ color: color-mix(in oklab, var(--muted), transparent 15%); }

    .btnx{
      border: 1px solid var(--line);
      background: var(--panel2);
      color: var(--text);
      border-radius: 12px;
      padding: 10px 12px;
      cursor:pointer;
      white-space: nowrap;
      font-size: 13px;
    }
    .btnx:hover{ background: var(--panel); }
    .btnx.primary{
      background: color-mix(in oklab, var(--accent), transparent 85%);
    }
    .btnx.primary:hover{
      background: color-mix(in oklab, var(--accent), transparent 78%);
    }

    .layout{
      display:grid;
      grid-template-columns: 360px 1fr;
      gap: 14px;
      margin-top: 14px;
    }
    @media (max-width: 980px){
      .layout{ grid-template-columns: 1fr; }
      .topbar{ position: static; }
    }

    /* Left rail */
    .rail{
      position: sticky;
      top: 82px;
      align-self: start;
      padding: 14px;
    }
    @media (max-width: 980px){
      .rail{ position: static; }
    }

    .profile{
      padding: 14px;
      border-radius: 16px;
      border: 1px solid var(--line);
      background: var(--panel2);
    }
    .profile h1{
      font-size: 22px;
      line-height: 1.12;
      margin: 0;
      letter-spacing: .2px;
      font-weight: 800;
    }
    .profile .tag{
      margin-top: 8px;
      font-size: 13px;
      color: var(--muted);
    }
    .chips{
      display:flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 12px;
    }
    .chip{
      font-size: 12px;
      color: var(--muted);
      border: 1px solid var(--line);
      background: color-mix(in oklab, var(--panel2), transparent 0%);
      border-radius: 999px;
      padding: 6px 10px;
    }
    .links{
      display:flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 12px;
    }
    .linkbtn{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      border: 1px solid var(--line);
      background: var(--panel2);
      color: var(--text);
      border-radius: 12px;
      padding: 9px 10px;
      font-size: 13px;
    }
    .linkbtn:hover{ background: var(--panel); text-decoration:none; }

    .rail-tools{
      display:flex;
      gap: 8px;
      margin-top: 12px;
    }
    .rail-tools .btnx{ flex: 1 1 auto; }

    .carousel{
      margin-top: 14px;
      border: 1px solid var(--line);
      background: var(--panel2);
      border-radius: 16px;
      padding: 10px;
    }

    .carousel-head{
      display:flex;
      justify-content: space-between;
      align-items:center;
      gap: 10px;
      padding: 6px 6px 10px;
    }
    .carousel-head b{
      font-size: 12px;
      letter-spacing: .3px;
      color: var(--muted);
      text-transform: uppercase;
    }
    .count{
      font-family: var(--mono);
      font-size: 12px;
      color: var(--muted);
    }

    .slides{
      display:flex;
      flex-direction: column;
      gap: 10px;
      max-height: 52vh;
      overflow: auto;
      scroll-snap-type: y mandatory;
      padding-right: 4px;
    }
    .slides::-webkit-scrollbar{ width: 8px; }
    .slides::-webkit-scrollbar-thumb{ background: color-mix(in oklab, var(--line), transparent 20%); border-radius: 999px; }
    .slide{
      scroll-snap-align: start;
      border: 1px solid var(--line);
      background: linear-gradient(180deg, var(--panel), var(--panel2));
      border-radius: 14px;
      padding: 12px;
      cursor: pointer;
      user-select: none;
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
    }
    .slide:hover{ background: var(--panel); transform: translateY(-1px); }
    .slide[aria-current="true"]{
      border-color: color-mix(in oklab, var(--accent), transparent 35%);
      box-shadow: 0 0 0 3px color-mix(in oklab, var(--accent), transparent 85%);
    }
    .slide .row1{
      display:flex; justify-content: space-between; align-items:center; gap: 8px;
    }
    .slide .ttl{
      font-weight: 750;
      font-size: 13px;
      letter-spacing: .2px;
    }
    .slide .sub{
      margin-top: 6px;
      color: var(--muted);
      font-size: 12px;
      line-height: 1.35;
    }
    .badge-mini{
      font-family: var(--mono);
      font-size: 12px;
      color: var(--muted);
      border: 1px solid var(--line);
      background: var(--panel2);
      border-radius: 999px;
      padding: 3px 7px;
      white-space: nowrap;
    }

    /* Right content */
    .content{
      padding: 14px;
    }

    .panel{
      border: 1px solid var(--line);
      background: linear-gradient(180deg, var(--panel), var(--panel2));
      border-radius: 16px;
      margin-bottom: 12px;
      overflow: clip;
    }
    .panel-h{
      display:flex;
      justify-content: space-between;
      align-items:center;
      gap: 10px;
      padding: 14px 14px;
      cursor: pointer;
    }
    .panel-h:hover{ background: color-mix(in oklab, var(--panel), transparent 0%); }
    .panel-h b{ font-size: 14px; letter-spacing: .2px; }
    .panel-h .meta{
      color: var(--muted);
      font-size: 12px;
      margin-top: 2px;
    }
    .panel-h .right{
      display:flex; align-items:center; gap: 10px;
    }
    .chev{
      width: 34px; height: 34px;
      display:grid; place-items:center;
      border: 1px solid var(--line);
      border-radius: 12px;
      background: var(--panel2);
      color: var(--text);
    }

    .panel-b{
      border-top: 1px solid var(--line);
      padding: 14px;
      display:none;
    }
    .panel[data-open="true"] .panel-b{ display:block; }

    .kpi{
      display:grid;
      grid-template-columns: 1fr;
      gap: 10px;
    }
    @media (min-width: 980px){
      .kpi{ grid-template-columns: 1fr 1fr; }
    }
    .kbox{
      border: 1px solid var(--line);
      background: var(--panel2);
      border-radius: 14px;
      padding: 12px;
    }
    .kbox b{ font-size: 12px; color: var(--muted); text-transform: uppercase; letter-spacing:.35px; }
    .kbox p{ margin: 8px 0 0; color: var(--muted2); font-size: 14px; }

    .item{
      border: 1px solid var(--line);
      background: var(--panel2);
      border-radius: 14px;
      padding: 12px;
      margin-top: 10px;
    }
    .item h3{
      font-size: 14px;
      margin: 0;
      line-height: 1.25;
      letter-spacing: .2px;
    }
    .item .m{
      color: var(--muted);
      font-size: 12px;
      margin-top: 6px;
    }
    .item .d{
      color: var(--muted2);
      font-size: 14px;
      margin-top: 8px;
    }
    .item .tags{
      display:flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 10px;
    }
    .tagx{
      font-size: 12px;
      color: var(--muted);
      border: 1px solid var(--line);
      background: var(--panel2);
      border-radius: 999px;
      padding: 5px 8px;
    }
    .rowbtn{
      display:flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 10px;
      align-items:center;
    }
    .sbtn{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      border: 1px solid var(--line);
      background: var(--panel2);
      color: var(--text);
      border-radius: 12px;
      padding: 8px 10px;
      font-size: 13px;
    }
    .sbtn:hover{ background: var(--panel); text-decoration:none; }
    .sbtn.primary{
      background: color-mix(in oklab, var(--accent), transparent 85%);
    }

    .mono{ font-family: var(--mono); }
    .muted{ color: var(--muted); }

    .filters{
      display:flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 10px;
      align-items:center;
    }
    .seg{
      display:inline-flex;
      gap: 0;
      border-radius: 12px;
      overflow: hidden;
      border: 1px solid var(--line);
    }
    .seg button{
      border: none;
      background: var(--panel2);
      color: var(--text);
      padding: 8px 10px;
      font-size: 13px;
      cursor:pointer;
    }
    .seg button[aria-pressed="true"]{
      background: color-mix(in oklab, var(--accent), transparent 82%);
    }

    .toastx{
      position: fixed;
      bottom: 16px;
      left: 50%;
      transform: translateX(-50%);
      background: color-mix(in oklab, var(--bg), #000 10%);
      color: var(--text);
      border: 1px solid var(--line);
      padding: 10px 12px;
      border-radius: 12px;
      box-shadow: var(--shadow);
      opacity: 0;
      pointer-events: none;
      transition: opacity .2s ease;
      font-size: 13px;
      z-index: 1000;
    }
    .toastx[data-on="true"]{ opacity: 1; }

    @media print{
      .topbar, .rail, .toastx{ display:none !important; }
      body{ background: #fff !important; color: #111 !important; }
      .glass, .panel, .item, .kbox{
        box-shadow: none !important;
        background: #fff !important;
        border-color: #ddd !important;
      }
      a{ color:#111 !important; text-decoration: none !important; }
      .panel-b{ display:block !important; }
    }
  </style>

  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Person",
    "name":"Debashish Kar",
    "email":"mailto:debashishkar8@gmail.com",
    "telephone":"+1-469-487-1635",
    "url":"https://github.com/kardebkar",
    "sameAs":[
      "https://github.com/kardebkar"
    ],
    "affiliation":[{"@type":"Organization","name":"Texas A&M AgriLife Research"}],
    "alumniOf":[
      {"@type":"CollegeOrUniversity","name":"University of Texas at Arlington"},
      {"@type":"CollegeOrUniversity","name":"Silicon Institute of Technology"}
    ],
    "knowsAbout":[
      "Hyperspectral imaging","Remote sensing","Human activity recognition",
      "Reinforcement learning","Generative models","Edge ML","MLOps","Observability"
    ]
  }
  </script>
</head>

<body>
  <a class="skip" href="#main">Skip to content</a>

  <div class="app">
    <div class="topbar glass" role="banner" aria-label="Top bar">
      <div class="topbar-inner">
        <div class="brand">
          <b>Debashish Kar</b>
          <span>PhD (CSE) Portfolio</span>
        </div>

        <div class="ctrls" aria-label="Controls">
          <input id="q" class="search" type="search" inputmode="search" autocomplete="off"
                 placeholder="Search publications + projects (Ctrl/⌘ K)" aria-label="Search publications and projects" />
          <button id="mode" class="btnx" type="button" aria-label="Toggle expand mode">Solo</button>
          <button id="theme" class="btnx" type="button" aria-label="Toggle theme">Theme</button>
        </div>
      </div>
    </div>

    <div class="layout">
      <!-- Left rail -->
      <aside class="rail glass" aria-label="Profile and section carousel">
        <div class="profile">
          <h1>Debashish Kar</h1>
          <div class="tag">
            PhD applicant (CSE). Focus: reliable ML systems for sensing (hyperspectral + wearables) and AI systems
            (experimentation, deployment workflows, observability).
          </div>

          <div class="chips" aria-label="Research keywords">
            <span class="chip">hyperspectral</span>
            <span class="chip">remote sensing</span>
            <span class="chip">wearable IMU</span>
            <span class="chip">time series</span>
            <span class="chip">RL / GAN / VAE</span>
            <span class="chip">MLOps / observability</span>
          </div>

          <div class="links" aria-label="Primary links">
            <a class="linkbtn" href="mailto:debashishkar8@gmail.com"><i class="bi bi-envelope"></i><span>Email</span></a>
            <a class="linkbtn" href="https://github.com/kardebkar" target="_blank" rel="noopener"><i class="bi bi-github"></i><span>GitHub</span></a>
            <a class="linkbtn" href="https://scholar.google.com/scholar?q=Debashish+Kar" target="_blank" rel="noopener"><i class="bi bi-mortarboard"></i><span>Scholar</span></a>
            <a class="linkbtn" href="https://www.domesticpreparedness.com/articles/rising-above-the-flood-a-decision-tool-for-structural-safety/" target="_blank" rel="noopener"><i class="bi bi-journal-text"></i><span>Domestic Preparedness</span></a>
          </div>

          <div class="rail-tools" aria-label="Quick actions">
            <button id="expandAll" class="btnx primary" type="button">Expand all</button>
            <button id="collapseAll" class="btnx" type="button">Collapse</button>
          </div>
        </div>

        <div class="carousel" aria-label="Section carousel">
          <div class="carousel-head">
            <b>Sections</b>
            <span id="counts" class="count"></span>
          </div>
          <div id="slides" class="slides" role="listbox" aria-label="Section slides">
            <!-- Slides injected by JS -->
          </div>
        </div>
      </aside>

      <!-- Right content -->
      <main id="main" class="content glass" aria-label="Content">
        <!-- Panels (order matters; IDs map to slides) -->
        <section class="panel" id="overview" data-section="Overview" data-open="true">
          <div class="panel-h" role="button" tabindex="0" aria-controls="b-overview" aria-expanded="true">
            <div>
              <b>Overview</b>
              <div class="meta">Research direction + what to review first</div>
            </div>
            <div class="right">
              <span class="badge-mini mono">Start here</span>
              <span class="chev" aria-hidden="true"><i class="bi bi-chevron-down"></i></span>
            </div>
          </div>
          <div class="panel-b" id="b-overview">
            <div class="kpi">
              <div class="kbox">
                <b>Research focus</b>
                <p>
                  Reliable ML systems for sensing under real-world constraints: domain shift, sensor noise, missingness,
                  latency, and weak supervision. Application domains include hyperspectral imaging (precision agriculture)
                  and wearable sensing (IMU time series).
                </p>
              </div>
              <div class="kbox">
                <b>Evidence</b>
                <p>
                  Publications in applied AI for food security and sensing; research-driven prototypes (hyperspectral analyst,
                  wearable streaming + HAR); systems work on experiment workflows, deployment simulation, and observability.
                </p>
              </div>
            </div>

            <div class="item">
              <h3>What to read (fast)</h3>
              <div class="d">
                1) Publications section (DOI links + BibTeX). 2) Agentic Hyperspectral Analyst and Wrist2Avatar project
                summaries. 3) Experience timeline for execution scope.
              </div>
            </div>
          </div>
        </section>

        <section class="panel" id="research" data-section="Research Focus" data-open="false">
          <div class="panel-h" role="button" tabindex="0" aria-controls="b-research" aria-expanded="false">
            <div>
              <b>Research focus</b>
              <div class="meta">Problem statements + methods</div>
            </div>
            <div class="right">
              <span class="badge-mini mono">Sensing ML</span>
              <span class="chev" aria-hidden="true"><i class="bi bi-chevron-down"></i></span>
            </div>
          </div>
          <div class="panel-b" id="b-research">
            <div class="kpi">
              <div class="kbox">
                <b>Core problems</b>
                <p>
                  Robust model behavior under distribution shift; anomaly detection for early stress signals;
                  streaming inference and stabilization for sensor time series; deployable evaluation workflows.
                </p>
              </div>
              <div class="kbox">
                <b>Methods</b>
                <p>
                  Deep learning for spatiotemporal signals; generative models (GAN/VAE) for representation and diagnosis;
                  reinforcement learning for adaptive exploration; system design for reproducible runs and observability.
                </p>
              </div>
            </div>

            <div class="item">
              <h3>Focus areas</h3>
              <div class="tags">
                <span class="tagx">hyperspectral imaging</span>
                <span class="tagx">wearable sensing (IMU)</span>
                <span class="tagx">anomaly detection</span>
                <span class="tagx">domain shift</span>
                <span class="tagx">streaming inference</span>
                <span class="tagx">experiment tracking</span>
                <span class="tagx">observability</span>
              </div>
            </div>
          </div>
        </section>

        <section class="panel" id="publications" data-section="Publications" data-open="false">
          <div class="panel-h" role="button" tabindex="0" aria-controls="b-publications" aria-expanded="false">
            <div>
              <b>Publications</b>
              <div class="meta">DOI links + BibTeX copy</div>
            </div>
            <div class="right">
              <span id="pubN" class="badge-mini mono">0</span>
              <span class="chev" aria-hidden="true"><i class="bi bi-chevron-down"></i></span>
            </div>
          </div>
          <div class="panel-b" id="b-publications">
            <div id="pubList">
              <!-- publications injected by JS -->
            </div>
          </div>
        </section>

        <section class="panel" id="projects" data-section="Projects" data-open="false">
          <div class="panel-h" role="button" tabindex="0" aria-controls="b-projects" aria-expanded="false">
            <div>
              <b>Projects</b>
              <div class="meta">Flagship research prototypes + systems work</div>
            </div>
            <div class="right">
              <span id="projN" class="badge-mini mono">0</span>
              <span class="chev" aria-hidden="true"><i class="bi bi-chevron-down"></i></span>
            </div>
          </div>
          <div class="panel-b" id="b-projects">
            <div class="filters" aria-label="Project filters">
              <span class="muted" style="font-size:13px;">Filter:</span>
              <div class="seg" role="group" aria-label="Project kind">
                <button class="segbtn" type="button" data-kind="all" aria-pressed="true">All</button>
                <button class="segbtn" type="button" data-kind="research" aria-pressed="false">Research</button>
                <button class="segbtn" type="button" data-kind="systems" aria-pressed="false">Systems</button>
              </div>
              <span id="projCount" class="count"></span>
            </div>

            <div id="projList" style="margin-top:10px;">
              <!-- projects injected by JS -->
            </div>
          </div>
        </section>

        <section class="panel" id="experience" data-section="Experience" data-open="false">
          <div class="panel-h" role="button" tabindex="0" aria-controls="b-experience" aria-expanded="false">
            <div>
              <b>Experience</b>
              <div class="meta">Industry + research</div>
            </div>
            <div class="right">
              <span class="badge-mini mono">Timeline</span>
              <span class="chev" aria-hidden="true"><i class="bi bi-chevron-down"></i></span>
            </div>
          </div>
          <div class="panel-b" id="b-experience">
            <div id="expList">
              <div class="item">
                <h3>Texas A&amp;M AgriLife Research · Full Stack Developer</h3>
                <div class="m">College Station, TX · Jan 2024 – Present</div>
                <div class="d">
                  • Enhanced UI responsiveness by 15% using React on agricultural IoT platforms.<br/>
                  • Integrated IoT into agricultural technologies for real-time, data-driven precision farming solutions.<br/>
                  • Improved team collaboration by 20% via Azure DevOps integration and workflow streamlining.
                </div>
                <div class="tags">
                  <span class="tagx">React</span><span class="tagx">IoT</span><span class="tagx">Azure DevOps</span>
                </div>
              </div>

              <div class="item">
                <h3>Copart Inc. · Software Engineer</h3>
                <div class="m">Dallas, TX · Feb 2023 – Dec 2023</div>
                <div class="d">
                  • Built JavaScript/HTML/CSS/React/Node applications; improved user experience by 15%.<br/>
                  • Used AJAX/JSON patterns to increase engagement by 25%.<br/>
                  • Coordinated UI/UX iteration, reducing revision time by 10%.
                </div>
                <div class="tags">
                  <span class="tagx">React</span><span class="tagx">Node.js</span><span class="tagx">AJAX</span>
                </div>
              </div>

              <div class="item">
                <h3>University of Texas at Arlington · Graduate Research Assistant</h3>
                <div class="m">Arlington, TX · Apr 2022 – Feb 2023</div>
                <div class="d">
                  • Led Home Elevation Decision Tool (cross-platform app) for structural safety using real-time data collection + ML.<br/>
                  • Directed UI/UX-centric system design for NSF and TxDOT projects using MVC patterns.<br/>
                  • Improved React Native data fetching; +25% responsiveness, reduced latency.
                </div>
                <div class="tags">
                  <span class="tagx">React Native</span><span class="tagx">ML</span><span class="tagx">MVC</span>
                </div>
              </div>

              <div class="item">
                <h3>Hindustan Aeronautics Limited · Control &amp; Automation Intern</h3>
                <div class="m">India · Apr 2018 – Aug 2018</div>
                <div class="d">
                  • Integrated HCI principles with robotic arm UI for precision welding workflows.<br/>
                  • Developed PLC programs for 3D robotic arm control and real-time operator feedback.
                </div>
                <div class="tags">
                  <span class="tagx">PLC</span><span class="tagx">HCI</span><span class="tagx">Robotics</span>
                </div>
              </div>

              <div class="item">
                <h3>Larsen &amp; Toubro Infotech / Mindtree · SAP UI5 Developer</h3>
                <div class="m">India · Jan 2019 – Nov 2019</div>
                <div class="d">
                  • Improved ERP UI satisfaction by 10% and reduced sync failures by 30% via JavaScript enhancements.<br/>
                  • Reduced code complexity by 25% and load time by 40% using TypeScript and React patterns.
                </div>
                <div class="tags">
                  <span class="tagx">SAP UI5</span><span class="tagx">TypeScript</span><span class="tagx">React</span>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="panel" id="education" data-section="Education" data-open="false">
          <div class="panel-h" role="button" tabindex="0" aria-controls="b-education" aria-expanded="false">
            <div>
              <b>Education</b>
              <div class="meta">Degrees + coursework</div>
            </div>
            <div class="right">
              <span class="badge-mini mono">MS + BTech</span>
              <span class="chev" aria-hidden="true"><i class="bi bi-chevron-down"></i></span>
            </div>
          </div>
          <div class="panel-b" id="b-education">
            <div class="item">
              <h3>MS in Computer Science · University of Texas at Arlington</h3>
              <div class="m">May 2023 · GPA 3.6 / 4.0</div>
              <div class="d">
                Coursework: Data Analysis and Modeling Techniques; Data Mining; Software Engineering I/II; Artificial Intelligence;
                Cloud Computing; Machine Learning; Neural Network; Advanced Mathematics.
              </div>
            </div>

            <div class="item">
              <h3>B.Tech in Electronics and Instrumentation Engineering · Silicon Institute of Technology</h3>
              <div class="m">Aug 2019 · GPA 3.7 / 4.0</div>
            </div>
          </div>
        </section>

        <section class="panel" id="skills" data-section="Skills" data-open="false">
          <div class="panel-h" role="button" tabindex="0" aria-controls="b-skills" aria-expanded="false">
            <div>
              <b>Skills</b>
              <div class="meta">Research + systems stack</div>
            </div>
            <div class="right">
              <span class="badge-mini mono">Tooling</span>
              <span class="chev" aria-hidden="true"><i class="bi bi-chevron-down"></i></span>
            </div>
          </div>
          <div class="panel-b" id="b-skills">
            <div class="kpi">
              <div class="kbox">
                <b>Programming</b>
                <p>
                  Python, C/C++, C#, embedded C, Java, Matlab, Bash, LaTeX; HTML/CSS/JavaScript/TypeScript.
                </p>
              </div>
              <div class="kbox">
                <b>Frameworks</b>
                <p>
                  React, Angular, Spring, React Native, Redux, Webpack, Node.js, Express.
                </p>
              </div>
              <div class="kbox">
                <b>Data / Cloud</b>
                <p>
                  MySQL, MongoDB, Firebase, Oracle, SQL; AWS (S3, EC2, Lambda), Microsoft Azure.
                </p>
              </div>
              <div class="kbox">
                <b>Process / Tools</b>
                <p>
                  Agile (SCRUM), Waterfall, TDD; VS Code, Postman, JIRA, GitHub, Jenkins, Maven, Azure DevOps.
                </p>
              </div>
            </div>
          </div>
        </section>

        <section class="panel" id="achievements" data-section="Achievements" data-open="false">
          <div class="panel-h" role="button" tabindex="0" aria-controls="b-achievements" aria-expanded="false">
            <div>
              <b>Achievements</b>
              <div class="meta">Awards + grants</div>
            </div>
            <div class="right">
              <span class="badge-mini mono">Recognition</span>
              <span class="chev" aria-hidden="true"><i class="bi bi-chevron-down"></i></span>
            </div>
          </div>
          <div class="panel-b" id="b-achievements">
            <div class="item">
              <h3>Best Innovative Project · 1st Prize · Techfest IIT Bombay</h3>
              <div class="m">Recognized for innovation (Asia’s largest science and technology festival).</div>
            </div>
            <div class="item">
              <h3>Research Grant · $2,200 USD · Government of India</h3>
              <div class="m">For SWACHH Water Filter development and proof-of-concept.</div>
            </div>
            <div class="item">
              <h3>NTSE Scholarship · National Talent Search Examination</h3>
              <div class="m">National-level scholarship recognizing academic performance.</div>
            </div>
            <div class="item">
              <h3>Robotics Event · Runner-up · NIT Jamshedpur</h3>
              <div class="m">Raspberry Pi line follower robot competition.</div>
            </div>
          </div>
        </section>

        <section class="panel" id="contact" data-section="Contact" data-open="false">
          <div class="panel-h" role="button" tabindex="0" aria-controls="b-contact" aria-expanded="false">
            <div>
              <b>Contact</b>
              <div class="meta">Email + key links</div>
            </div>
            <div class="right">
              <span class="badge-mini mono">Direct</span>
              <span class="chev" aria-hidden="true"><i class="bi bi-chevron-down"></i></span>
            </div>
          </div>
          <div class="panel-b" id="b-contact">
            <div class="item">
              <h3>Debashish Kar</h3>
              <div class="d">
                Email: <a href="mailto:debashishkar8@gmail.com">debashishkar8@gmail.com</a><br/>
                Phone: <span class="mono">+1 (469) 487 1635</span><br/>
                GitHub: <a href="https://github.com/kardebkar" target="_blank" rel="noopener">github.com/kardebkar</a>
              </div>
              <div class="rowbtn">
                <a class="sbtn primary" href="mailto:debashishkar8@gmail.com"><i class="bi bi-envelope"></i><span>Email</span></a>
                <a class="sbtn" href="https://github.com/kardebkar" target="_blank" rel="noopener"><i class="bi bi-github"></i><span>GitHub</span></a>
                <a class="sbtn" href="https://scholar.google.com/scholar?q=Debashish+Kar" target="_blank" rel="noopener"><i class="bi bi-mortarboard"></i><span>Scholar</span></a>
              </div>
            </div>

            <div class="muted" style="font-size:12px; margin-top:10px;">
              Last updated: <span id="updated" class="mono"></span>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>

  <div id="toast" class="toastx" role="status" aria-live="polite"></div>

  <script>
    (function(){
      const root = document.documentElement;

      // Theme: allow explicit toggle; default to system (dark variables as base).
      const savedTheme = localStorage.getItem("theme");
      if(savedTheme === "light" || savedTheme === "dark"){ root.dataset.theme = savedTheme; }

      const themeBtn = document.getElementById("theme");
      themeBtn.addEventListener("click", () => {
        const cur = root.dataset.theme || "dark";
        const next = cur === "light" ? "dark" : "light";
        root.dataset.theme = next;
        localStorage.setItem("theme", next);
      });

      // Expand mode: Solo collapses other panels when opening.
      let mode = localStorage.getItem("expand_mode") || "solo"; // solo | multi
      const modeBtn = document.getElementById("mode");
      function syncModeBtn(){
        modeBtn.textContent = (mode === "solo") ? "Solo" : "Multi";
        modeBtn.setAttribute("aria-label", "Toggle expand mode (currently " + mode + ")");
      }
      syncModeBtn();

      modeBtn.addEventListener("click", () => {
        mode = (mode === "solo") ? "multi" : "solo";
        localStorage.setItem("expand_mode", mode);
        syncModeBtn();
      });

      // Panel open/close
      const panels = Array.from(document.querySelectorAll(".panel"));
      const panelHeader = (p) => p.querySelector(".panel-h");
      const setOpen = (p, open) => {
        p.dataset.open = open ? "true" : "false";
        const h = panelHeader(p);
        const exp = open ? "true" : "false";
        h.setAttribute("aria-expanded", exp);
      };

      function openPanelById(id, scrollIntoView=true){
        const p = document.getElementById(id);
        if(!p) return;

        if(mode === "solo"){
          for(const other of panels){
            if(other !== p) setOpen(other, false);
          }
        }
        setOpen(p, true);
        if(scrollIntoView){
          p.scrollIntoView({behavior: "smooth", block: "start"});
        }
        setActiveSlide(id);
      }

      for(const p of panels){
        const h = panelHeader(p);
        const onToggle = () => {
          const open = p.dataset.open === "true";
          if(open){
            setOpen(p, false);
          }else{
            if(mode === "solo"){
              for(const other of panels){
                if(other !== p) setOpen(other, false);
              }
            }
            setOpen(p, true);
          }
          setActiveSlide(p.id);
        };
        h.addEventListener("click", onToggle);
        h.addEventListener("keydown", (e) => {
          if(e.key === "Enter" || e.key === " "){
            e.preventDefault();
            onToggle();
          }
        });
      }

      // Expand all / collapse
      document.getElementById("expandAll").addEventListener("click", () => {
        for(const p of panels) setOpen(p, true);
      });
      document.getElementById("collapseAll").addEventListener("click", () => {
        for(const p of panels) setOpen(p, false);
      });

      // Data: publications and projects
      const pubs = [
        {
          title: "Hybrid Deep Learning approach for skin disease classification using adaptive segmentation and dual-stage EfficientNet",
          authors: "S. Panda, Debashish Kar, SB Dhal, K.C. Gadepally, S. Kalafatis",
          venue: "IEEE International Conference on Data Science and Intelligent Network Computing (ICDSINC)",
          year: "2025",
          status: "Accepted",
          link: null,
          bibtex: "@inproceedings{panda2025hybrid,title={Hybrid Deep Learning approach for skin disease classification using adaptive segmentation and dual-stage EfficientNet},author={Panda, S. and Kar, Debashish and Dhal, S. B. and Gadepally, K. C. and Kalafatis, S.},booktitle={IEEE International Conference on Data Science and Intelligent Network Computing (ICDSINC)},year={2025}}"
        },
        {
          title: "Leveraging artificial intelligence and advanced food processing techniques for enhanced food safety, quality, and security: a comprehensive review",
          authors: "Sambandh Bhusan Dhal, Debashish Kar",
          venue: "Discover Applied Sciences",
          year: "2025",
          status: "Journal",
          link: "https://doi.org/10.1007/s42452-025-06472-w",
          bibtex: "@article{dhal2025foodreview,title={Leveraging artificial intelligence and advanced food processing techniques for enhanced food safety, quality, and security: a comprehensive review},author={Dhal, Sambandh Bhusan and Kar, Debashish},journal={Discover Applied Sciences},year={2025},doi={10.1007/s42452-025-06472-w},publisher={Springer}}"
        },
        {
          title: "Transforming Agricultural Productivity with AI-Driven Forecasting: Innovations in Food Security and Supply Chain Optimization",
          authors: "Sambandh Bhusan Dhal, Debashish Kar",
          venue: "Forecasting (MDPI)",
          year: "2024",
          status: "Journal",
          link: "https://doi.org/10.3390/forecast6040046",
          bibtex: "@article{dhal2024forecasting,title={Transforming Agricultural Productivity with AI-Driven Forecasting: Innovations in Food Security and Supply Chain Optimization},author={Dhal, Sambandh Bhusan and Kar, Debashish},journal={Forecasting},year={2024},doi={10.3390/forecast6040046},publisher={MDPI}}"
        },
        {
          title: "Advancing food security through drone-based hyperspectral imaging: applications in precision agriculture and post-harvest management",
          authors: "Debashish Kar, Sambandh Bhusan Dhal",
          venue: "Environmental Monitoring and Assessment (Springer)",
          year: "2025",
          status: "Journal",
          link: "https://doi.org/10.1007/s10661-025-13650-1",
          bibtex: "@article{kar2025hsi,title={Advancing food security through drone-based hyperspectral imaging: applications in precision agriculture and post-harvest management},author={Kar, Debashish and Dhal, Sambandh Bhusan},journal={Environmental Monitoring and Assessment},year={2025},doi={10.1007/s10661-025-13650-1},publisher={Springer}}"
        },
        {
          title: "Rising Above the Flood: A Decision Tool for Structural Safety",
          authors: "Cedric Ling, Debashish Kar, Nur Yazdani, Eyosias Beneberu, Maria Koliou, Yong Yoo",
          venue: "Domestic Preparedness Journal",
          year: "2024",
          status: "Article",
          link: "https://www.domesticpreparedness.com/articles/rising-above-the-flood-a-decision-tool-for-structural-safety/",
          bibtex: "@article{ling2024rising,title={Rising Above the Flood: A Decision Tool for Structural Safety},author={Ling, Cedric and Kar, Debashish and Yazdani, Nur and Beneberu, Eyosias and Koliou, Maria and Yoo, Yong},journal={Domestic Preparedness},year={2024},url={https://www.domesticpreparedness.com/articles/rising-above-the-flood-a-decision-tool-for-structural-safety/}}"
        }
      ];

      const projects = [
        {
          title: "Agentic Hyperspectral Analyst (AHA)",
          kind: "research",
          when: "2026",
          meta: "Multi-agent workflow for autonomous hyperspectral analysis: anomaly detection, adaptive path planning, and diagnosis.",
          desc: "Sense-model-plan-act loop with 3D convolutional β-VAE (anomaly scoring), dueling DQN (investigation policy), and conditional GANs (diagnosis). Designed with explicit audit/logging considerations and human-in-the-loop gates.",
          tags: ["Python","hyperspectral","VAE","DQN","cGAN","agents"],
          links: [
            {label:"Repository", icon:"bi-github", href:"https://github.com/kardebkar/Agentic-Hyperspectral-Analyst"}
          ]
        },
        {
          title: "Wrist2Avatar: Apple Watch IMU Streaming + Activity Recognition",
          kind: "research",
          when: "2026",
          meta: "Streaming wearable IMU pipeline with labeling, baseline training, and real-time classification + stabilization.",
          desc: "Streams accelerometer/gyroscope from Apple Watch to macOS via iPhone relay, logs labeled CSV, trains baseline models, and runs real-time inference with smoothing for downstream control.",
          tags: ["Swift","Python","time series","wearables","streaming"],
          links: [
            {label:"Repository", icon:"bi-github", href:"https://github.com/kardebkar/Human-Activity-Recongnition"}
          ]
        },
        {
          title: "AI Infra Studio",
          kind: "systems",
          when: "2026",
          meta: "Synthetic internal AI platform demo: experiments, observability, deployments, tracing.",
          desc: "Run/experiment comparison, live metrics + virtualized logs, timeline pin/compare, request trace debugging, deployment rollouts with incident simulation. Next.js UI + Fastify API + WebSockets.",
          tags: ["TypeScript","Next.js","Fastify","WebSockets","observability","Playwright"],
          links: [
            {label:"Repository", icon:"bi-github", href:"https://github.com/kardebkar/AI-Infra-studio"}
          ]
        },
        {
          title: "Real-Time Auction Platform",
          kind: "systems",
          when: "2026",
          meta: "Real-time competitive bidding with GraphQL API and React Native mobile app.",
          desc: "Production-style architecture with authentication, bid validation, bid history, and low-latency processing; structured service layout and Docker tooling.",
          tags: ["TypeScript","GraphQL","React Native","PostgreSQL","Prisma","real-time"],
          links: [
            {label:"Repository", icon:"bi-github", href:"https://github.com/kardebkar/real-time-auction-platform"}
          ]
        },
        {
          title: "Home Elevation Decision Tool",
          kind: "research",
          when: "May 2022 – Feb 2023",
          meta: "Cross-platform mobile decision tool for structural safety; published in Domestic Preparedness (Jan 2024).",
          desc: "Assesses structural safety using numerical modeling and real-time data collection; supports decision-making for elevated slab configurations.",
          tags: ["React Native","decision-support","data collection"],
          links: [
            {label:"Article", icon:"bi-journal-text", href:"https://www.domesticpreparedness.com/articles/rising-above-the-flood-a-decision-tool-for-structural-safety/"}
          ]
        },
        {
          title: "Ground Penetration Radar (GPR) Image Analysis System",
          kind: "research",
          when: "Aug 2021 – May 2022",
          meta: "ML-based analysis of GPR imagery with AWS-backed pipelines for large-scale processing.",
          desc: "Applied ML algorithms in Python to improve accuracy and speed of subsurface object detection; built pipelines using S3/Lambda/EC2 to handle volume and improve processing efficiency.",
          tags: ["Python","computer vision","AWS","pipelines"],
          links: []
        },
        {
          title: "Face Swapping Tool (StyleGAN2)",
          kind: "research",
          when: "Jan 2023 – May 2023",
          meta: "Identity transfer using StyleGAN2 on a large-scale face attributes dataset.",
          desc: "Implemented a deep learning pipeline for identity transfer using a dataset with 200K+ celebrity images.",
          tags: ["GANs","computer vision","deep learning"],
          links: []
        },
        {
          title: "Hand Gesture Deciphering System (IEEE Proposed)",
          kind: "research",
          when: "May 2018 – Apr 2019",
          meta: "Wearable sign-language interface (Raspberry Pi) for assistive control of home appliances.",
          desc: "Built a Raspberry Pi + Python wearable for gesture decoding to control appliances; improved daily living autonomy based on user feedback.",
          tags: ["Raspberry Pi","embedded","assistive tech"],
          links: []
        },
        {
          title: "Non-Invasive Blood Glucose Monitor (IEEE Proposed)",
          kind: "research",
          when: "Nov 2018 – Dec 2019",
          meta: "Near-infrared spectroscopy (NIS) + biosignals for blood parameter analysis.",
          desc: "Studied NIS and heartbeat sensors for signal interpretation; improved monitoring metric accuracy.",
          tags: ["NIR spectroscopy","signals","health"],
          links: []
        },
        {
          title: "SWACHH Water Filter",
          kind: "research",
          when: "Jan 2016 – Dec 2018",
          meta: "Low-cost nano/macro filtration; Government of India grant; Techfest IIT Bombay award.",
          desc: "Designed purifier for bacteria/particle separation to improve access to clean water for isolated communities; received $2,200 grant and Best Innovative Project award.",
          tags: ["prototyping","social impact","filtration"],
          links: []
        }
      ];

      // Render publications
      const pubList = document.getElementById("pubList");
      const mkEl = (tag, cls) => { const el = document.createElement(tag); if(cls) el.className = cls; return el; };

      function renderPub(p){
        const card = mkEl("div","item pub");
        card.dataset.search = (p.title + " " + p.authors + " " + p.venue + " " + p.year + " " + (p.status||"")).toLowerCase();

        const h = mkEl("h3");
        h.textContent = p.title;

        const m = mkEl("div","m");
        m.textContent = `${p.authors} · ${p.venue} · ${p.year} · ${p.status}`;

        card.appendChild(h);
        card.appendChild(m);

        const row = mkEl("div","rowbtn");
        if(p.link){
          const a = mkEl("a","sbtn primary");
          a.href = p.link;
          a.target = "_blank";
          a.rel = "noopener";
          a.innerHTML = `<i class="bi bi-link-45deg"></i><span>${p.link.includes("doi.org") ? "DOI" : "Link"}</span>`;
          row.appendChild(a);
        }
        const copy = mkEl("button","btnx mono");
        copy.type = "button";
        copy.textContent = "Copy BibTeX";
        copy.dataset.bibtex = p.bibtex;
        copy.addEventListener("click", () => copyText(p.bibtex, "BibTeX copied"));
        row.appendChild(copy);

        card.appendChild(row);
        return card;
      }

      for(const p of pubs) pubList.appendChild(renderPub(p));
      document.getElementById("pubN").textContent = String(pubs.length);

      // Render projects
      const projList = document.getElementById("projList");
      function renderProj(pr){
        const card = mkEl("div","item proj");
        card.dataset.kind = pr.kind;
        card.dataset.search = (pr.title + " " + pr.meta + " " + pr.desc + " " + pr.tags.join(" ") + " " + pr.when).toLowerCase();

        const h = mkEl("h3");
        h.textContent = pr.title;

        const m = mkEl("div","m");
        m.textContent = `${pr.kind.toUpperCase()} · ${pr.when} · ${pr.meta}`;

        const d = mkEl("div","d");
        d.textContent = pr.desc;

        const tags = mkEl("div","tags");
        for(const t of pr.tags){
          const s = mkEl("span","tagx");
          s.textContent = t;
          tags.appendChild(s);
        }

        const row = mkEl("div","rowbtn");
        for(const l of pr.links){
          const a = mkEl("a", "sbtn " + (l.label === "Repository" ? "primary" : ""));
          a.href = l.href;
          a.target = "_blank";
          a.rel = "noopener";
          a.innerHTML = `<i class="bi ${l.icon}"></i><span>${l.label}</span>`;
          row.appendChild(a);
        }

        card.appendChild(h);
        card.appendChild(m);
        card.appendChild(d);
        card.appendChild(tags);
        if(pr.links.length) card.appendChild(row);

        return card;
      }

      for(const pr of projects) projList.appendChild(renderProj(pr));
      document.getElementById("projN").textContent = String(projects.length);

      // Section slides (carousel)
      const slidesEl = document.getElementById("slides");
      const countsEl = document.getElementById("counts");

      function panelSummary(p){
        const title = p.getAttribute("data-section") || p.id;
        const meta = p.querySelector(".panel-h .meta")?.textContent?.trim() || "";
        let badge = "";
        if(p.id === "publications") badge = String(pubs.length);
        if(p.id === "projects") badge = String(projects.length);
        if(p.id === "experience") badge = "5";
        if(p.id === "education") badge = "2";
        if(p.id === "skills") badge = "4";
        return {title, meta, badge};
      }

      function makeSlide(p){
        const s = panelSummary(p);
        const slide = mkEl("div","slide");
        slide.setAttribute("role","option");
        slide.dataset.target = p.id;

        const row1 = mkEl("div","row1");
        const ttl = mkEl("div","ttl");
        ttl.textContent = s.title;

        const badge = mkEl("span","badge-mini");
        badge.textContent = s.badge || "";

        row1.appendChild(ttl);
        row1.appendChild(badge);

        const sub = mkEl("div","sub");
        sub.textContent = s.meta;

        slide.appendChild(row1);
        slide.appendChild(sub);

        slide.addEventListener("click", () => openPanelById(p.id, true));
        slide.addEventListener("keydown", (e) => {
          if(e.key === "Enter" || e.key === " "){
            e.preventDefault();
            openPanelById(p.id, true);
          }
        });
        slide.tabIndex = 0;

        return slide;
      }

      const slideById = new Map();
      for(const p of panels){
        const slide = makeSlide(p);
        slideById.set(p.id, slide);
        slidesEl.appendChild(slide);
      }

      function setActiveSlide(id){
        for(const [pid, slide] of slideById.entries()){
          slide.setAttribute("aria-current", pid === id ? "true" : "false");
        }
      }

      // IntersectionObserver to sync active slide while scrolling
      const io = new IntersectionObserver((entries) => {
        // pick the most visible open or nearest panel
        const visible = entries
          .filter(e => e.isIntersecting)
          .sort((a,b) => b.intersectionRatio - a.intersectionRatio)[0];
        if(visible){
          const id = visible.target.id;
          setActiveSlide(id);
        }
      }, { root: null, threshold: [0.3, 0.5, 0.7] });

      for(const p of panels){ io.observe(p); }

      // Global search: filter pubs + projects
      const q = document.getElementById("q");

      const pubCards = Array.from(document.querySelectorAll(".pub"));
      const projCards = Array.from(document.querySelectorAll(".proj"));

      function norm(s){ return (s || "").toLowerCase().trim(); }

      function applySearch(){
        const needle = norm(q.value);

        const match = (el) => {
          if(!needle) return true;
          return (el.dataset.search || "").includes(needle);
        };

        let pv = 0;
        for(const el of pubCards){
          const ok = match(el);
          el.toggleAttribute("hidden", !ok);
          if(ok) pv++;
        }

        let pr = 0;
        for(const el of projCards){
          // respect kind filter too
          const kindOk = kindFilter === "all" ? true : (el.dataset.kind === kindFilter);
          const ok = kindOk && match(el);
          el.toggleAttribute("hidden", !ok);
          if(ok) pr++;
        }

        document.getElementById("pubN").textContent = String(pv);
        document.getElementById("projN").textContent = String(pr);
        countsEl.textContent = `pub ${pv}/${pubs.length} · proj ${pr}/${projects.length}`;
        document.getElementById("projCount").textContent = `${pr}/${projects.length} shown`;
      }

      // Project kind filter
      let kindFilter = "all";
      const segBtns = Array.from(document.querySelectorAll(".segbtn"));
      for(const b of segBtns){
        b.addEventListener("click", () => {
          kindFilter = b.dataset.kind;
          for(const x of segBtns){
            x.setAttribute("aria-pressed", x === b ? "true" : "false");
          }
          applySearch();
        });
      }

      q.addEventListener("input", applySearch);

      // Keyboard shortcuts
      window.addEventListener("keydown", (e) => {
        const isK = (e.key || "").toLowerCase() === "k";
        if((e.ctrlKey || e.metaKey) && isK){
          e.preventDefault();
          q.focus();
        }
        if(e.key === "Escape"){
          if(document.activeElement === q || q.value){
            q.value = "";
            applySearch();
            q.blur();
          }
        }
      });

      // Copy helper + toast
      const toast = document.getElementById("toast");
      let toastTimer = null;

      function showToast(msg){
        toast.textContent = msg;
        toast.dataset.on = "true";
        clearTimeout(toastTimer);
        toastTimer = setTimeout(() => { toast.dataset.on = "false"; }, 900);
      }

      async function copyText(txt, okMsg){
        try{
          await navigator.clipboard.writeText(txt);
          showToast(okMsg);
        }catch{
          const ta = document.createElement("textarea");
          ta.value = txt;
          ta.style.position = "fixed";
          ta.style.left = "-9999px";
          document.body.appendChild(ta);
          ta.select();
          document.execCommand("copy");
          document.body.removeChild(ta);
          showToast(okMsg);
        }
      }

      // Initial counts + active slide
      countsEl.textContent = `pub ${pubs.length}/${pubs.length} · proj ${projects.length}/${projects.length}`;
      setActiveSlide("overview");

      // Ensure aria-expanded matches initial open state
      for(const p of panels){
        const open = p.dataset.open === "true";
        panelHeader(p).setAttribute("aria-expanded", open ? "true" : "false");
      }

      // Set last updated date
      const now = new Date();
      document.getElementById("updated").textContent = now.toISOString().slice(0,10);
    })();
  </script>

  <!-- Bootstrap JS (optional; not required for custom interactions, but fine to include) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
"""
out_path="/mnt/data/index_open_source_theme_portfolio.html"
with open(out_path,"w",encoding="utf-8") as f:
    f.write(html)
out_path
